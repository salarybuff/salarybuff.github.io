"use strict";function showPopup(e){document.getElementById(e).style.display="grid"}function closePopup(e){document.getElementById(e).style.display="none"}function calculate(){let e=parseInt(document.getElementById("calculator-retire-curr_asset").value),t=parseFloat(document.getElementById("calculator-retire-div_yield").value)/100,n=parseFloat(document.getElementById("calculator-retire-div_annual_growth").value)/100,l=parseFloat(document.getElementById("calculator-retire-equity_growth_rate").value)/100,r=parseInt(document.getElementById("calculator-retire-monthly_fc").value),a=parseFloat(document.getElementById("calculator-retire-fc_annual_growth").value)/100,o=parseInt(document.getElementById("calculator-retire-target_cost").value);const u=document.querySelector('input[name="btnradio"]:checked').value;let d=0;"USA"===u?d=.15:"KOR"===u&&(d=.154),"false"===document.querySelector('input[name="btntax"]:checked').value&&(d=0);let i=1,c=t*e*(1-d),s=e>0?Math.sqrt(e):0,m=e>0?Math.sqrt(e):0,y=t*m,g=t*e*(1-d),h=12*r,I=e+h,E=e*(1+l)+h+g,B=document.getElementById("result-table");B.innerHTML="",B.innerHTML='\n            <tr>\n                <th style="width:20%">연차</th>\n                <th style="width:20%">연초 배당금</th>\n                <th style="width:20%">연말 보유 자산</th>\n                <th style="width:20%">누적 투자 원금</th>\n                <th style="width:20%">누적 재투자 배당금</th>\n            </tr>\n        ';let M=!0;for((isNaN(e)||isNaN(t)||isNaN(r)||isNaN(a)||isNaN(n)||isNaN(o))&&(alert("데이터를 입력해주세요."),M=!1),r<0&&(alert("월 투자 금액은 0원 이상이어야 파이어가 가능합니다."),M=!1);M;){if(!(t>0)){alert("죄송합니다. 본 모델에서는 배당 소득이 없으면 은퇴가 불가능합니다."),M=!1;break}if(c/12>=o){let e=B.insertRow(i);e.insertCell(0).innerHTML=`<strong>🔥목표 달성 - ${i} 년</strong>`,e.insertCell(1).innerHTML=`<strong>${Number(Math.round(c)).toLocaleString()} 만 원</strong>`,e.insertCell(2).innerHTML=`<strong>${Number(Math.round(E)).toLocaleString()} 만 원</strong>`,e.insertCell(3).innerHTML=`<strong>${Number(Math.round(I)).toLocaleString()} 만 원</strong>`,e.insertCell(4).innerHTML=`<strong>${Number(Math.round(g)).toLocaleString()} 만 원</strong>`,document.getElementById("result1").innerText=`${i}`,document.getElementById("result2").innerText=`${Number(Math.round(E)).toLocaleString()}`,document.getElementById("result3").innerText=`${Number(Math.round(I)).toLocaleString()}`,document.getElementById("result4").innerText=`${Number(Math.round(c/12)).toLocaleString()}`;let t=document.getElementById("result-table-container");"none"===t.style.display&&(t.style.display="block"),M=!1;break}{let e=B.insertRow(i);e.insertCell(0).innerHTML=`${i} 년`,e.insertCell(1).innerHTML=`${Number(Math.round(c)).toLocaleString()} 만 원`,e.insertCell(2).innerHTML=`${Number(Math.round(E)).toLocaleString()} 만 원`,e.insertCell(3).innerHTML=`${Number(Math.round(I)).toLocaleString()} 만 원`,e.insertCell(4).innerHTML=`${Number(Math.round(g)).toLocaleString()} 만 원`,0==m&&0==s?(s=Math.sqrt(h),y=t*(m=Math.sqrt(h))):(s+=(c+h)/m,m*=1+l),c=s*y*(1-d),y*=1+n,I+=h*=1+a,g+=c,E=s*m+c+h}if((i+=1)>100){alert("죄송합니다. 현재 상태로는 100년이 지나도 은퇴할 수 없습니다."),M=!1,document.getElementById("result-table").innerHTML="";let e=document.getElementById("result-table-container");"block"===e.style.display&&(e.style.display="none"),document.getElementById("result1").innerText="0",document.getElementById("result2").innerText="0",document.getElementById("result3").innerText="0",document.getElementById("result4").innerText="0"}}}function reset(){document.getElementById("calculator-retire-curr_asset").value="",document.getElementById("calculator-retire-div_yield").value="",document.getElementById("calculator-retire-monthly_fc").value="",document.getElementById("calculator-retire-fc_annual_growth").value="",document.getElementById("calculator-retire-div_annual_growth").value="",document.getElementById("calculator-retire-target_cost").value="",document.getElementById("calculator-retire-equity_growth_rate").value="",document.getElementById("result1").innerText="0",document.getElementById("result2").innerText="0",document.getElementById("result3").innerText="0",document.getElementById("result4").innerText="0";let e=document.getElementById("result-table-container");if("none"!==e.style.display){e.style.display="none",document.getElementById("result-table").innerHTML=""}}window.addEventListener("keydown",e=>{"Enter"===e.key&&e.isTrusted&&calculate()});