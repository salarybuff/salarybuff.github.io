"use strict";function showPopup(e){document.getElementById(e).style.display="grid"}function closePopup(e){document.getElementById(e).style.display="none"}function calculate(){let e=parseInt(document.getElementById("calculator-retire-curr_asset").value),t=parseFloat(document.getElementById("calculator-retire-annual_div_rate").value)/100,n=parseInt(document.getElementById("calculator-retire-monthly_fc").value),r=parseFloat(document.getElementById("calculator-retire-fc_annual_growth").value)/100,l=parseFloat(document.getElementById("calculator-retire-div_annual_growth").value)/100,a=parseInt(document.getElementById("calculator-retire-target_cost").value);const o=document.querySelector('input[name="btnradio"]:checked').value;let u=0;"USA"===o?u=.15:"KOR"===o&&(u=.154),"false"===document.querySelector('input[name="btntax"]:checked').value&&(u=0),console.log(o);let i=1,c=0,d=e,s=0,m=0,g=e,y=12*n,h=document.getElementById("result-table");h.innerHTML="",h.innerHTML='\n            <tr>\n                <th style="width:20%">연차</th>\n                <th style="width:20%">연초 배당금</th>\n                <th style="width:20%">연말 보유 자산</th>\n                <th style="width:20%">누적 투자 원금</th>\n                <th style="width:20%">누적 재투자 배당금</th>\n            </tr>\n        ';let I=!0;for((isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(l)||isNaN(a))&&(alert("데이터를 입력해주세요."),I=!1),(0===n||n<0)&&(alert("월 투자 금액은 0원 이상이어야 파이어가 가능합니다."),I=!1);I;){if(!(t>0)){alert("죄송합니다. 본 모델에서는 배당 소득이 없으면 은퇴가 불가능합니다."),I=!1;break}if(s=d*t*Math.pow(1+l,i-1)*(1-u),c=d+s+y*Math.pow(1+r,i-1),m+=s,g+=y*Math.pow(1+r,i-1),s/12>=a){let e=h.insertRow(i);e.insertCell(0).innerHTML=`<strong>🔥목표 달성 - ${i} 년</strong>`,e.insertCell(1).innerHTML=`<strong>${Number(Math.round(s)).toLocaleString()} 만 원</strong>`,e.insertCell(2).innerHTML=`<strong>${Number(Math.round(c)).toLocaleString()} 만 원</strong>`,e.insertCell(3).innerHTML=`<strong>${Number(Math.round(g)).toLocaleString()} 만 원</strong>`,e.insertCell(4).innerHTML=`<strong>${Number(Math.round(m)).toLocaleString()} 만 원</strong>`,document.getElementById("result1").innerText=`${i}`,document.getElementById("result2").innerText=`${Number(Math.round(c)).toLocaleString()}`,document.getElementById("result3").innerText=`${Number(Math.round(g)).toLocaleString()}`,document.getElementById("result4").innerText=`${Number(Math.round(s/12)).toLocaleString()}`;let t=document.getElementById("result-table-container");"none"===t.style.display&&(t.style.display="block"),I=!1;break}{let e=h.insertRow(i);e.insertCell(0).innerHTML=`${i} 년`,e.insertCell(1).innerHTML=`${Number(Math.round(s)).toLocaleString()} 만 원`,e.insertCell(2).innerHTML=`${Number(Math.round(c)).toLocaleString()} 만 원`,e.insertCell(3).innerHTML=`${Number(Math.round(g)).toLocaleString()} 만 원`,e.insertCell(4).innerHTML=`${Number(Math.round(m)).toLocaleString()} 만 원`,d=c}i+=1,i>100&&(alert("죄송합니다. 현재 상태로는 100년이 지나도 은퇴할 수 없습니다."),I=!1)}}function reset(){document.getElementById("calculator-retire-curr_asset").value="",document.getElementById("calculator-retire-annual_div_rate").value="",document.getElementById("calculator-retire-monthly_fc").value="",document.getElementById("calculator-retire-fc_annual_growth").value="",document.getElementById("calculator-retire-div_annual_growth").value="",document.getElementById("calculator-retire-target_cost").value="",document.getElementById("result1").innerText="0",document.getElementById("result2").innerText="0",document.getElementById("result3").innerText="0",document.getElementById("result4").innerText="0";let e=document.getElementById("result-table-container");if("none"!==e.style.display){e.style.display="none",document.getElementById("result-table").innerHTML=""}}window.addEventListener("keydown",(e=>{"Enter"===e.key&&e.isTrusted&&calculate()}));