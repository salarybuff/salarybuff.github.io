function e(e,t,a,n){return e*t*Math.pow(1+t,a-n)/(Math.pow(1+t,a-n)-1)}window.addEventListener("keydown",(t=>{"Enter"===t.key&&t.isTrusted&&function(){const t=parseFloat(document.getElementById("calculator-mortgage-capital").value),a=parseFloat(document.getElementById("calculator-mortgage-rate").value)/100,n=parseInt(document.getElementById("calculator-mortgage-period").value),l=parseInt(document.getElementById("calculator-mortgage-times").value),o=parseFloat(document.getElementById("calculator-mortgage-balance").value),c=parseFloat(document.getElementById("calculator-mortgage-additional").value),r=parseFloat(document.getElementById("calculator-mortgage-target").value);if(isNaN(t)||isNaN(a)||isNaN(n)||isNaN(l)||isNaN(o)||isNaN(c)||isNaN(r))return void alert("데이터를 입력해주세요.");if(t<0||a<0||n<0||l<0||o<0||c<0||r<0)return void alert("음수를 입력하셨습니다. 양수를 입력해 주십시오.");const i=a/12,u=e(o,i,n,l);let d=function(t,a,n,l,o,c,r){let i={balanceWithoutDeductionTarget:0,balanceWithDeductionTarget:0,balanceWithoutDeductionFinal:0,balanceWithDeductionFinal:0},u=!1,d=!1,g=!1,m=!1,s=a,I=a;for(let a=o+1;a<l;a++){const p=e(s,n,l,a-1),h=e(I,n,l,a-1);if(!u&&h<=t&&(i.balanceWithDeductionTarget=a-o,u=!0),!d&&p<=t&&(i.balanceWithoutDeductionTarget=a-o,d=!0),!g&&h<0&&(i.balanceWithDeductionFinal=a-o,g=!0),!m&&p<0&&(i.balanceWithoutDeductionFinal=a-o,m=!0),u&&d&&g&&m)return i;const N=h-n*I;s=s-(p-n*s)-r,I=I-N-r-(c-N)}return i}(r,o,i,n,l,u,c);document.getElementById("result1").innerText=parseInt(d.balanceWithoutDeductionTarget),document.getElementById("result2").innerText=parseInt(d.balanceWithoutDeductionFinal),document.getElementById("result3").innerText=parseInt(d.balanceWithDeductionTarget),document.getElementById("result4").innerText=parseInt(d.balanceWithDeductionFinal)}()}));