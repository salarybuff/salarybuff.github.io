"use strict";function showPopup(e){document.getElementById(e).style.display="grid"}function closePopup(e){document.getElementById(e).style.display="none"}function calculate(){var e=parseInt(document.getElementById("calculator-retire-curr_asset").value),t=parseFloat(document.getElementById("calculator-retire-annual_profit_rate").value)/100,n=parseInt(document.getElementById("calculator-retire-monthly_fc").value),r=parseInt(document.getElementById("calculator-retire-target_seed").value),l=parseInt(document.getElementById("calculator-retire-target_monthly_cost").value),a=12*n;let o=0,u=1,i=!1,d=e*(1+t)+a;var s,c=document.getElementById("result-table");let m=e*(1+t)-e,y=0,g=(c.innerHTML="",c.innerHTML=`
          <tr>
              <th style="width:33%">연차</th>
              <th style="width:33%">총 보유 자산</th>
              <th style="width:33%">누적 재투자 금액</th>
          </tr>
      `,!0);for((isNaN(e)||isNaN(t)||isNaN(n)||isNaN(l))&&(alert("데이터를 입력해주세요."),g=!1),(0===n||n<0)&&(alert("월 투자 금액은 0원 이상이어야 파이어가 가능합니다."),g=!1);g;){if(!(0<t)){alert("죄송합니다. 자산을 통한 소득이 없으면 은퇴는 불가능합니다."),g=!1;break}if(i){if(console.log("Fire Started"),m=m+y*(1+t)-y,(y=y*(1+t)-12*l)<0){var I=document.getElementById("result-table-container");"none"===I.style.display&&(I.style.display="block"),document.getElementById("result3").innerText=""+Number(u-o-1).toLocaleString(),g=!1;break}I=c.insertRow(u);I.insertCell(0).innerHTML=u+" 년",I.insertCell(1).innerHTML=Number(Math.round(y)).toLocaleString()+" 만 원",I.insertCell(2).innerHTML=Number(Math.round(m)).toLocaleString()+" 만 원"}if(!i&&d>=r-a&&(i=!0,y=d,o=u,(s=c.insertRow(u)).insertCell(0).innerHTML=`<strong>🔥파이어 시작 - ${u} 년</strong>`,s.insertCell(1).innerHTML=`<strong>${Number(Math.round(d)).toLocaleString()} 만 원</strong>`,s.insertCell(2).innerHTML=`<strong>${Number(Math.round(m)).toLocaleString()} 만 원</strong>`,document.getElementById("result1").innerText=""+u,document.getElementById("result2").innerText=""+Number(Math.round(d)).toLocaleString()),i||((s=c.insertRow(u)).insertCell(0).innerHTML=u+" 년",s.insertCell(1).innerHTML=Number(Math.round(d)).toLocaleString()+" 만 원",s.insertCell(2).innerHTML=Number(Math.round(m)).toLocaleString()+" 만 원",m=m+d*(1+t)-d,d=d*(1+t)+a),100<u){var E=document.getElementById("result-table-container");"none"===E.style.display&&(E.style.display="block"),document.getElementById("result3").innerText="∞",g=!1;break}u+=1}}function reset(){document.getElementById("calculator-retire-curr_asset").value="",document.getElementById("calculator-retire-annual_profit_rate").value=3,document.getElementById("calculator-retire-monthly_fc").value="",document.getElementById("calculator-retire-target_seed").value="",document.getElementById("calculator-retire-target_monthly_cost").value="",document.getElementById("result1").innerText="0",document.getElementById("result2").innerText="0",document.getElementById("result3").innerText="0";var e=document.getElementById("result-table-container");"none"!==e.style.display&&(e.style.display="none",document.getElementById("result-table").innerHTML="")}window.addEventListener("keydown",e=>{"Enter"===e.key&&e.isTrusted&&calculate()});